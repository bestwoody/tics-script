diff --git a/dbms/src/AggregateFunctions/AggregateFunctionAvg.cpp b/dbms/src/AggregateFunctions/AggregateFunctionAvg.cpp
index 31b65fe74043..5146fa3d02bb 100644
--- a/dbms/src/AggregateFunctions/AggregateFunctionAvg.cpp
+++ b/dbms/src/AggregateFunctions/AggregateFunctionAvg.cpp
@@ -14,8 +14,14 @@ AggregateFunctionPtr createAggregateFunctionAvg(const std::string & name, const
     assertNoParameters(name, parameters);
     assertUnary(name, argument_types);
 
-    AggregateFunctionPtr res(createWithNumericType<AggregateFunctionAvg>(*argument_types[0]));
-
+    AggregateFunctionPtr res;
+
+    const IDataType *p = argument_types[0].get();
+    if (auto dec_type = typeid_cast<const DataTypeDecimal * >(p)) {
+        res = AggregateFunctionPtr(createWithNumericType<AggregateFunctionAvg>(*dec_type, dec_type->getPrec(), dec_type->getScale()));
+    } else {
+        res = AggregateFunctionPtr(createWithNumericType<AggregateFunctionAvg>(*argument_types[0]));
+    }
     if (!res)
         throw Exception("Illegal type " + argument_types[0]->getName() + " of argument for aggregate function " + name, ErrorCodes::ILLEGAL_TYPE_OF_ARGUMENT);
 
